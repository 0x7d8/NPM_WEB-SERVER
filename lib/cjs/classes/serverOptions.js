var P=Object.create;var c=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty;var N=(s,e)=>{for(var t in e)c(s,t,{get:e[t],enumerable:!0})},I=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of v(e))!O.call(s,o)&&o!==t&&c(s,o,{get:()=>e[o],enumerable:!(r=S(e,o))||r.enumerable});return s};var b=(s,e,t)=>(t=s!=null?P(w(s)):{},I(e||!s||!s.__esModule?c(t,"default",{value:s,enumerable:!0}):t,s)),V=s=>I(c({},"__esModule",{value:!0}),s);var C={};N(C,{default:()=>h});module.exports=V(C);var u=b(require("fs")),m=(s,e)=>(e=e||[],u.readdirSync(s).forEach(r=>{if(u.statSync(`${s}/${r}`).isDirectory())e=m(`${s}/${r}`,e);else{let o=`${s}/${r}`;e.push(o)}}),e),R=(s,e,t)=>(t=t||[],t=m(s,t).filter(r=>r.endsWith(e)),t);var d=["OPTIONS","DELETE","PATCH","STATIC","POST","PUT","GET"];var L=b(require("path")),E=b(require("fs")),i=(s,e)=>(s=s.replace(/\/{2,}/g,"/"),s.endsWith("/")&&s!=="/"?s.slice(0,-1):!s.startsWith("/")&&s!=="/"?`/${s}`:s.includes("/?")?s.replace("/?","?"):e&&s==="/"?"":s),p=class{constructor(e,t){e=e!=null?e:[],t=t!=null?t:[],this.routes=e,this.events=t}event(e,t){return this.events.some(r=>r.event===e)?!1:this.events.push({event:e,code:t})-1}set(e,t,r){if(t=i(t),!d.includes(e))throw TypeError(`No Valid Request Type: ${e}, Possible Values: ${d.join(", ")}`);return this.routes.some(o=>o.method===e&&o.path===t)?!1:this.routes.push({method:e,path:t,pathArray:t.split("/"),code:r,data:{addTypes:!1}})-1}setBlock(e,t){e=i(e);let r=[];for(let o=0;o<=t.length-1;o++){let n=t[o];r.push(this.routes.push({method:n.method,path:`${e}${i(n.path,!0)}`,pathArray:`${e}${i(n.path,!0)}`.split("/"),code:n.code,data:{addTypes:!1}})-1)}return r}setRedirects(e){let t=[];for(let r=0;r<=e.length-1;r++){let o=e[r];t.push(this.routes.push({method:o.method,path:i(o.path),pathArray:i(o.path,!0).split("/"),code:async n=>n.redirect(o.destination),data:{addTypes:!1}})-1)}return t}static(e,t,r){var g,T,x;e=i(e);let o=(g=r==null?void 0:r.preload)!=null?g:!1,n=(T=r==null?void 0:r.remHTML)!=null?T:!1,l=(x=r==null?void 0:r.addTypes)!=null?x:!0,a=[];for(let f of m(t)){let y=f.replace(t,"");n&&(y=y.replace("/index.html","/").replace(".html",""));let A=i(y),$=this.routes.push({method:"STATIC",path:A,pathArray:A.split("/"),code:async()=>{},data:{addTypes:l,file:f}});o&&(this.routes[$-1].data.content=E.readFileSync(f)),a.push($-1)}return a}load(e){let t=R(e,".js"),r=[];for(let o of t){let n=require(L.resolve(o));if(!(!("path"in n)||!("method"in n)||!("code"in n))){if(!d.includes(n.method))throw TypeError(`No Valid Request Type: ${n.method}, Possible Values: ${d.join(", ")}`);r.push(this.routes.push({method:n.method,path:i(n.path),pathArray:i(n.path).split("/"),code:n.code,data:{addTypes:!1}})-1)}}return r}list(){return{routes:this.routes,events:this.events}}};var h=class{constructor(e){this.data=this.mergeOptions({routes:new p,rateLimits:{enabled:!1,message:"Rate Limited",list:[],functions:new Map},body:{enabled:!0,parse:!0,maxSize:5,message:"Payload too large"},https:{enabled:!1,keyFile:"/ssl/key/path",certFile:"/ssl/cert/path"},dashboard:{enabled:!1,path:"/rjweb-dashboard"},headers:{},bind:"0.0.0.0",proxy:!1,compression:"none",cors:!1,port:2023,poweredBy:!0},e)}mergeOptions(...e){let t=r=>r&&typeof r=="object";return e.reduce((r,o)=>(Object.keys(o).forEach(n=>{let l=r[n],a=o[n];n!=="functions"&&n!=="routes"?Array.isArray(l)&&Array.isArray(a)?r[n]=l.concat(...a):t(l)&&t(a)?r[n]=this.mergeOptions(l,a):r[n]=a:r[n]=a}),r),{})}getOptions(){return this.data}};0&&(module.exports={});
