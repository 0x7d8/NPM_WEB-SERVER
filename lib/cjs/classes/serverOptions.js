var P=Object.create;var d=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,$=Object.prototype.hasOwnProperty;var j=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),H=(t,e)=>{for(var s in e)d(t,s,{get:e[s],enumerable:!0})},S=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of M(e))!$.call(t,o)&&o!==s&&d(t,o,{get:()=>e[o],enumerable:!(r=V(e,o))||r.enumerable});return t};var u=(t,e,s)=>(s=t!=null?P(R(t)):{},S(e||!t||!t.__esModule?d(s,"default",{value:t,enumerable:!0}):s,t)),N=t=>S(d({},"__esModule",{value:!0}),t);var E=j((z,w)=>{w.exports=["OPTIONS","DELETE","PATCH","STATIC","POST","PUT","GET"]});var q={};H(q,{default:()=>h});module.exports=N(q);var m=u(require("fs")),f=(t,e)=>(e=e||[],m.readdirSync(t).forEach(r=>{if(m.statSync(t+"/"+r).isDirectory())e=f(t+"/"+r,e);else{let o=t+"/"+r;e.push(o)}}),e),v=(t,e,s)=>(s=s||[],s=f(t,s).filter(r=>r.endsWith(e)),s);var c=u(E()),I=u(require("path")),O=u(require("fs")),l=t=>(t=t.replace(/\/{2,}/g,"/"),t.endsWith("/")&&t!=="/"?t.slice(0,-1):!t.startsWith("/")&&t!=="/"?`/${t}`:t.includes("/?")?t.replace("/?","?"):t),p=class{constructor(e,s){e=e!=null?e:[],s=s!=null?s:[],this.routes=e,this.events=s}event(e,s){return this.events.some(r=>r.event===e)?!1:this.events.push({event:e,code:s})-1}set(e,s,r){if(s=l(s),!c.default.includes(e))throw TypeError(`No Valid Request Type: ${e}
Possible Values: ${c.default.join(", ")}`);return this.routes.some(o=>o.method===e&&o.path===s)?!1:this.routes.push({method:e,path:s,pathArray:s.split("/"),code:r,data:{addTypes:!1}})-1}static(e,s,r){var y,T,x;e=l(e);let o=(y=r==null?void 0:r.preload)!=null?y:!1,n=(T=r==null?void 0:r.remHTML)!=null?T:!1,a=(x=r==null?void 0:r.addTypes)!=null?x:!0,i=[];for(let b of f(s)){let g=b.replace(s,"");n&&(g=g.replace("/index.html","/").replace(".html",""));let A=l(g),L=this.routes.push({method:"STATIC",path:A,pathArray:A.split("/"),code:async()=>{},data:{addTypes:a,file:b}});o&&(this.routes[L-1].data.content=O.readFileSync(b)),i.push(L-1)}return i}load(e){let s=v(e,".js"),r=[];for(let o of s){let n=require(I.resolve(o));if(!(!("path"in n)||!("method"in n)||!("code"in n))){if(!c.default.includes(n.method))throw TypeError(`No Valid Request Type: ${n.method}
Possible Values: ${c.default.join(", ")}`);r.push(this.routes.push({method:n.method,path:l(n.path),pathArray:l(n.path).split("/"),code:n.code,data:{addTypes:!1}})-1)}}return r}list(){return{routes:this.routes,events:this.events}}};var h=class{constructor(e){this.data=this.mergeOptions({routes:new p,rateLimits:{enabled:!1,message:"Rate Limited",list:[],functions:new Map},body:{enabled:!0,parse:!0,maxSize:5,message:"Payload too large"},https:{enabled:!1,keyFile:"/ssl/key/path",certFile:"/ssl/cert/path"},dashboard:{enabled:!1,path:"/rjweb-dashboard"},bind:"0.0.0.0",proxy:!1,compress:!0,cors:!1,port:2023,poweredBy:!0},e)}mergeOptions(...e){let s=r=>r&&typeof r=="object";return e.reduce((r,o)=>(Object.keys(o).forEach(n=>{let a=r[n],i=o[n];n!=="functions"&&n!=="routes"?Array.isArray(a)&&Array.isArray(i)?r[n]=a.concat(...i):s(a)&&s(i)?r[n]=this.mergeOptions(a,i):r[n]=i:r[n]=i}),r),{})}getOptions(){return this.data}};0&&(module.exports={});
