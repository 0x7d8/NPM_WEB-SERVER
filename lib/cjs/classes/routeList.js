var N=Object.create;var a=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var L=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),M=(s,e)=>{for(var t in e)a(s,t,{get:e[t],enumerable:!0})},x=(s,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of V(e))!C.call(s,i)&&i!==t&&a(s,i,{get:()=>e[i],enumerable:!(r=H(e,i))||r.enumerable});return s};var p=(s,e,t)=>(t=s!=null?N(q(s)):{},x(e||!s||!s.__esModule?a(t,"default",{value:s,enumerable:!0}):t,s)),j=s=>x(a({},"__esModule",{value:!0}),s);var P=L((G,E)=>{E.exports=["OPTIONS","DELETE","PATCH","STATIC","POST","PUT","GET"]});var w={};M(w,{default:()=>f,pathParser:()=>h});module.exports=j(w);var u=p(require("fs")),d=(s,e)=>(e=e||[],u.readdirSync(s).forEach(r=>{if(u.statSync(s+"/"+r).isDirectory())e=d(s+"/"+r,e);else{let i=s+"/"+r;e.push(i)}}),e),I=(s,e,t)=>(t=t||[],t=d(s,t).filter(r=>r.endsWith(e)),t);var c=p(P()),S=p(require("path")),W=p(require("fs")),h=s=>(s=s.replace(/\/{2,}/g,"/"),s.endsWith("/")?s.slice(0,-1):s.startsWith("/")?s:`/${s}`),f=class{constructor(e,t){e=e!=null?e:[],t=t!=null?t:[],this.routes=e,this.events=t}event(e,t){return this.events.some(r=>r.event===e)?!1:this.events.push({event:e,code:t})}set(e,t,r){if(t=h(t),!c.default.includes(e))throw TypeError(`No Valid Request Type: ${e}
Possible Values: ${c.default.join(", ")}`);return this.routes.some(i=>i.method===e&&i.path===t)?!1:this.routes.push({method:e,path:t,pathArray:t.split("/"),code:r,data:{addTypes:!1}})}static(e,t,r){var y,g,$;e=h(e);let i=(y=r==null?void 0:r.preload)!=null?y:!1,n=(g=r==null?void 0:r.remHTML)!=null?g:!1,b=($=r==null?void 0:r.addTypes)!=null?$:!0,T=[];for(let m of d(t)){let l=m.replace(t,"").replace("/",""),o=e+t.replace(l,"").replace(t,"").slice(0,-1);o.startsWith(".")&&(o=o.slice(-1)),n&&l==="index.html"?l="":n&&l.endsWith(".html")?l=l.slice(0,-5):n&&l.endsWith(".htm")&&(l=l.slice(0,-4));let v=`${o}/${l}`.endsWith("/")?`${o}`:`${o}`=="/"?`/${l}`:`${o}/${l}`,A=this.routes.push({method:"STATIC",path:v,pathArray:v.split("/"),code:async()=>null,data:{addTypes:b,file:m}});i&&(this.routes[A].data.content=W.readFileSync(m)),T.push(A)}return T}load(e){let t=I(e,".js"),r=[];for(let i of t){let n=require(S.resolve(i));if(!(!("path"in n)||!("method"in n)||!("code"in n))){if(!c.default.includes(n.type))throw TypeError(`No Valid Request Type: ${n.method}
Possible Values: ${c.default.join(", ")}`);r.push(this.routes.push({method:n.method,path:n.path,pathArray:n.path.split("/"),code:n.code,data:{addTypes:!1}}))}}return r}list(){return{routes:this.routes,events:this.events}}};0&&(module.exports={pathParser});
