var N=Object.create;var x=Object.defineProperty;var M=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var W=Object.getPrototypeOf,B=Object.prototype.hasOwnProperty;var v=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var H=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var V=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of R(e))!B.call(t,i)&&i!==r&&x(t,i,{get:()=>e[i],enumerable:!(s=M(e,i))||s.enumerable});return t};var q=(t,e,r)=>(r=t!=null?N(W(t)):{},V(e||!t||!t.__esModule?x(r,"default",{value:t,enumerable:!0}):r,t));var E=H((j,L)=>{L.exports=["OPTIONS","DELETE","PATCH","STATIC","POST","PUT","GET"]});import*as p from"fs";var m=(t,e)=>(e=e||[],p.readdirSync(t).forEach(s=>{if(p.statSync(t+"/"+s).isDirectory())e=m(t+"/"+s,e);else{let i=t+"/"+s;e.push(i)}}),e),A=(t,e,r)=>(r=r||[],r=m(t,r).filter(s=>s.endsWith(e)),r);var l=q(E());import*as I from"path";import*as S from"fs";var a=t=>(t=t.replace(/\/{2,}/g,"/"),t.endsWith("/")&&t!=="/"?t.slice(0,-1):!t.startsWith("/")&&t!=="/"?`/${t}`:t),c=class{constructor(e,r){e=e!=null?e:[],r=r!=null?r:[],this.routes=e,this.events=r}event(e,r){return this.events.some(s=>s.event===e)?!1:this.events.push({event:e,code:r})-1}set(e,r,s){if(r=a(r),!l.default.includes(e))throw TypeError(`No Valid Request Type: ${e}
Possible Values: ${l.default.join(", ")}`);return this.routes.some(i=>i.method===e&&i.path===r)?!1:this.routes.push({method:e,path:r,pathArray:r.split("/"),code:s,data:{addTypes:!1}})-1}static(e,r,s){var h,y,g;e=a(e);let i=(h=s==null?void 0:s.preload)!=null?h:!1,n=(y=s==null?void 0:s.remHTML)!=null?y:!1,$=(g=s==null?void 0:s.addTypes)!=null?g:!0,f=[];for(let d of m(r)){let o=d.replace(r,"").replace("/","").replace("\\","/"),w=e+r.replace(o,"").replace(r,"").slice(0,-1);n&&o==="index.html"?o="":n&&o.endsWith(".html")?o.slice(0,-5):n&&o.endsWith(".htm")&&o.slice(0,-4);let T=a(`${w}/${o}`),b=this.routes.push({method:"STATIC",path:T,pathArray:T.split("/"),code:async()=>{},data:{addTypes:$,file:d}});i&&(this.routes[b-1].data.content=S.readFileSync(d)),f.push(b-1)}return f}load(e){let r=A(e,".js"),s=[];for(let i of r){let n=v(I.resolve(i));if(!(!("path"in n)||!("method"in n)||!("code"in n))){if(!l.default.includes(n.method))throw TypeError(`No Valid Request Type: ${n.method}
Possible Values: ${l.default.join(", ")}`);s.push(this.routes.push({method:n.method,path:a(n.path),pathArray:a(n.path).split("/"),code:n.code,data:{addTypes:!1}})-1)}}return s}list(){return{routes:this.routes,events:this.events}}};var u=class{constructor(e){this.data={routes:new c,rateLimits:{enabled:!1,message:"Rate Limited",list:[],functions:new Map},bind:"0.0.0.0",proxy:!1,cors:!1,port:2023,maxBody:5,poweredBy:!0,...e}}getOptions(){return this.data}};export{u as default};
